# Diamonds Build Optimization Configuration

# Node.js memory and performance settings
NODE_OPTIONS=--max-old-space-size=4096

# Hardhat optimization settings
HARDHAT_CACHE_DIR=.hardhat/cache
HARDHAT_PARALLEL=true
HARDHAT_PARALLEL_MAX_JOBS=4

# Yarn optimization settings
YARN_CACHE_DIR=.yarn/cache
YARN_NETWORK_CONCURRENCY=8

# Test optimization settings
MOCHA_TIMEOUT=60000
MOCHA_SLOW=10000

# Coverage optimization settings
COVERAGE_REPORTER=lcov
COVERAGE_REPORTER=text-summary
COVERAGE_MIN_LINES=80
COVERAGE_MIN_FUNCTIONS=80
COVERAGE_MIN_BRANCHES=75
COVERAGE_MIN_STATEMENTS=80

# Build artifact settings
ARTIFACT_RETENTION_DAYS=30
SIGNED_ARTIFACT_RETENTION_DAYS=90

# Multi-chain testing settings
FORK_BLOCK_GAS_LIMIT=30000000
FORK_TEST_TIMEOUT=120000

# Performance monitoring settings
PERF_METRICS_ENABLED=true
GAS_REPORT_ENABLED=true
SIZE_REPORT_ENABLED=true

# Security scanning thresholds and performance settings
SECURITY_CODEQL_THRESHOLD=7.0
SECURITY_SEMGREP_THRESHOLD=8.0
SECURITY_OSV_THRESHOLD=9.0
SECURITY_SCAN_MAX_TIME=300000
SECURITY_PARALLEL_SCANS=true
SECURITY_FAIL_FAST=true

# CI/CD performance thresholds
CI_BUILD_MAX_TIME=600000
CI_TEST_MAX_TIME=900000
CI_COVERAGE_MIN=90
CI_COVERAGE_BRANCHES_MIN=85
CI_COVERAGE_FUNCTIONS_MIN=95
CI_COVERAGE_LINES_MIN=90

# Deployment and verification settings
DEPLOYMENT_VERIFY_ENABLED=true
DEPLOYMENT_VERIFY_RETRIES=3
DEPLOYMENT_VERIFY_TIMEOUT=300000
DEPLOYMENT_GAS_BUFFER=0.2
DEPLOYMENT_MAX_GAS_LIMIT=30000000

# Monitoring and alerting
MONITORING_ENABLED=true
MONITORING_METRICS_RETENTION=30
ALERT_BUILD_TIME_THRESHOLD=480000
ALERT_TEST_TIME_THRESHOLD=720000
ALERT_COVERAGE_THRESHOLD=85

# Notification settings
NOTIFICATION_SLACK_WEBHOOK=${SLACK_WEBHOOK_URL}
NOTIFICATION_DISCORD_WEBHOOK=${DISCORD_WEBHOOK_URL}
NOTIFICATION_GITHUB_ISSUES=true

# Cache settings
CACHE_NODE_MODULES=true
CACHE_HARDHAT=true
CACHE_YARN=true
CACHE_KEY_PREFIX=diamonds-project-v1